<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-input/paper-input.html">
<link rel="import" href="shared-styles.html">

<dom-module id="page-lobby">
    <template>
        <style include="shared-styles">
            :host {
                display: block;
                padding: 10px;
            }
        </style>

        <div class="card">
            <h1>Lobby</h1>
            <template is="dom-repeat" items="{{messages}}">
                <p>{{item.m}}</p>
            </template>
        </div>
    </template>

    <script>
        Polymer({
            is: 'page-lobby',
            properties: {
                ws: {
                    type: Object
                },
                messages: {
                    type: Array,
                    value: [],
                    notify: true
                }
            },
            messages: [],
            ready: function () {
            },
            detached: function () {
                console.log("BYE")
            },
            handle: function(msg) {
                switch (msg.type) {
                    case 'say':
                        this.push('messages', {m: msg.msg});
                        break;
                }
                console.log(this.messages);
            }
        });
    </script>
</dom-module>
